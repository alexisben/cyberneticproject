@keyframes rolling-square
    0%
        transform: translateY(-50px)
    100%
        transform: translateY(50px)

@keyframes back-borders
    0%
        transform: translate(5px, 5px)
    100%
        transform: translate(-5px, -5px)

section.container
    margin-top: 100px
    & > h1
        padding-bottom: 50px
        a
            text-decoration: none
            color: inherit
.box
    position: relative
    &::before
        border: $border-width solid $dark
        content: ''
        position: absolute
        width: 100%
        height: 100%
        top: 20px
        left: 20px
        animation: back-borders 5s alternate infinite ease-in-out

        +mobile
            top: 10px
            left: 10px
        .is-darken &
            border-color: $light


    &__content
        background: $light
        position: relative
        border: $border-width solid $dark
        z-index: 2
        .is-darken &
            background: $dark
            border-color: $light
        &::after
            animation: rolling-square 5s alternate infinite ease-in-out
            content: ''
            display: block
            position: absolute
            width: 0px
            height: 50px
            left: -3px
            border: 5px dashed $light
            top: 50%
            z-index: 10
            .is-darken &
                border-color: $dark
    &__title
        border: $border-width solid $dark
        left: -$border-width
        padding: 20px 40px 20px
        position: relative
        top: -$border-width
        width: max-content
        .is-darken &
            border-color: $light
    &__body
        padding: 40px
        .h3
            padding-bottom: 15px
        p
            column-count: 2
            +mobile
                column-count: 1
    .btn
        margin-top: 40px

    @for $i from 1 through 5
        &:nth-child(n + #{$i})
            .box__content
                &::after
                    animation: rolling-square 5s #{$i * 0.5}s alternate infinite 

.box--img
    &::after
        content: ''
        display: block
        position: absolute
        right: 100%
        width: calc(50vw - #{$container-width/2} + 40px)
        border-top: $border-width solid $dark
        border-bottom: $border-width solid $dark
        height: 100%
        top: 0
        .is-darken &
            border-color: $light
    .box
        &__body
            padding: 40px
        &__content
            border-left: 0
            display: flex
            +mobile
                display: block
            .h3
                padding-bottom: 15px
            p
                column-count: 2
                +mobile
                    column-count: 1
        &__text
            width: 70%
            +mobile
                width: auto

        &__image
            border-left: $border-width solid $dark
            width: 30%
            +mobile
                border-right: 0
                border-top: $border-width solid $dark
                width: auto
            img
                display: block
                object-fit: cover
                height: 100%
                width: 100%
            .is-darken &
                border-color: $light

.center
    .btn
        margin: auto
.news
    display: flex
    flex-wrap: wrap
    justify-content: space-between
    +mobile
        display: block

    .box
        width: 30%
        margin-bottom: 100px
        +mobile
            width: auto

        time
            display: block
            font-size: px2rem(12)
            padding-bottom: 40px
        &__title
            max-width: 90%
            padding: 20px

        &__body
            padding: 20px
            p
                column-count: 1
        &:last-child
            .box__content
                border-right: 0
            &::after
                content: ''
                display: block
                position: absolute
                left: 100%
                width: calc(50vw - #{$container-width/2} + 20px)
                border-top: $border-width solid $dark
                border-bottom: $border-width solid $dark
                height: 100%
                top: 0
                background: $light
                z-index: 2
                .is-darken &
                    border-color: $light
                    background: $dark
    
.partners
    display: flex
    flex-wrap: wrap
    justify-content: space-between
    .partner
        background: white
        position: relative
        border: $border-width solid $dark
        width: 18%
        padding: 20px
        .is-darken &
            border-color: $light
        img
            margin: auto
            display: block
            max-width: 90%